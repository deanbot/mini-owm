# mini-owm

Mini-OpenWeatherMap is a wrapper around Open Weather Map's [One Call Api](https://openweathermap.org/api/one-call-api).

mini-owm is simple but versatile. Use it in any of the following ways or mix and match. mini-owm defaults to metric - who uses kelvin?

### Install

`npm install mini-owm`

### Constructor parameters

```js
import MiniOwm, { Units } from 'mini-owm';

// constructor parameters are all optional
const api = new MiniOwm(
  '<your api key here>', // owm api key
  33.441792, // latitude
  -94.037689, // longitude
  'hourly,minutely' // exclude
  Units.Imperial, // units (default is 'metric' for mini-owm)
  'de' // language
);

api.get().then(res => {
  console.log(res);
});
```

### Chaining

```js
import MiniOwm from 'mini-owm';
const api = new MiniOwm();
api
  .apiKey('<your api key here>')
  .latitude(33.441792)
  .longitude(-94.037689)
  .exclude('hourly,minutely')
  .standard() // set units to standard (Kelvin)
  .imperial() // set units to imperial (Fahrenheit)
  .metric() // set units to metric (Celcius) - this is default for mini-owm
  .language('de')
  .get()
  .then(res => {
    console.log(res);
  });
```

### Get Parameters

```js
import MiniOwm, { Units } from 'mini-owm';
new MiniOwm()
  .get({
    apiKey: '<your api key here>',
    coords: {
      latitude: 33.441792,
      longitude: -94.037689,
    },
    exclude: 'hourly,minutely',
    units: Units.Metric, // or 'metric'
    language: 'de',
  })
  .then(res => {
    console.log(res);
  });
```

# Development

- Notes:
  - Written in TypeScript
  - Compiled to UMD via WebPack
  - Compiled to ES6 via TSC
  - Typings generated by TSC
- Setup: `pnpm install`
- Configure: create `.env` with contents: `API_KEY=<your api key here>`
- Serve: `pnpm run start`

See [index.ejs](./index.ejs).

## Runtimes

Latest tested runtimes

- node: 10.16.3
- pnpm: 2.15.1
